(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__idznN",ImageGalleryItem__image:"ImageGalleryItem_ImageGalleryItem__image__1H9FL"}},16:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2henX",Modal:"Modal_Modal__2MGU4"}},28:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__jZwdz"}},29:function(e,t,a){e.exports={Button:"Button_Button__D1G6C"}},33:function(e,t,a){e.exports={Loader:"Loader_Loader__1O7ig"}},40:function(e,t,a){},42:function(e,t,a){},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__hrHYR",SearchForm:"Searchbar_SearchForm__2K9Wu",SearchForm__button:"Searchbar_SearchForm__button__3VNYj",SearchForm__buttonLabel:"Searchbar_SearchForm__buttonLabel__1rEEQ",SearchForm__input:"Searchbar_SearchForm__input__2bHxK"}},91:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(12),o=a.n(c),s=(a(40),a(18)),u=a(5),i=a.n(u),l=a(8),b=a(4),m=(a(42),a(27)),j=a.n(m),h=a(6),f=a.n(h),_=a(1);function p(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(b.a)(a,2),c=n[0],o=n[1];return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("header",{className:f.a.Searchbar,children:Object(_.jsxs)("form",{className:f.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(c)},children:[Object(_.jsx)("button",{type:"submit",className:f.a.SearchForm__button,children:Object(_.jsx)("span",{className:f.a.SearchForm__buttonLabel,children:"Search"})}),Object(_.jsx)("input",{value:c,onChange:function(e){o(e.target.value)},className:f.a.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})})}var O=a(28),d=a.n(O);function g(e){var t=e.children;return Object(_.jsx)("ul",{className:d.a.ImageGallery,children:t})}var v=a(15),x=a.n(v);function S(e){var t=e.img,a=e.showImage;return Object(_.jsx)("li",{onClick:function(){return a(t)},className:x.a.ImageGalleryItem,children:Object(_.jsx)("img",{src:t.webformatURL,alt:t.tags,className:x.a.ImageGalleryItem__image})})}var y=a(29),I=a.n(y);function w(e){var t=e.onClick;return Object(_.jsx)("button",{className:I.a.Button,onClick:t,type:"button",children:"Load more"})}var k=a(30),F=a(31),N=a(35),G=a(34),L=a(32),C=a.n(L),E=(a(72),a(33)),M=a.n(E),B=function(e){Object(N.a)(a,e);var t=Object(G.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(F.a)(a,[{key:"render",value:function(){return Object(_.jsx)(C.a,{className:M.a.Loader,type:"Hearts",color:"#3f51b5",height:80,width:80})}}]),a}(n.a.Component),H=a(16),R=a.n(H),U=document.querySelector("#modal-root");function z(e){var t=e.image,a=e.onClose;Object(r.useEffect)((function(){return window.addEventListener("keydown",n),window.removeEventListener("keydown",n)}),[]);var n=function(e){"Escape"!==e.code&&e.currentTarget!==e.target||a()};return Object(c.createPortal)(Object(_.jsx)("div",{className:R.a.Overlay,onClick:n,children:Object(_.jsx)("div",{className:R.a.Modal,children:Object(_.jsx)("img",{src:t.src,alt:t.alt})})}),U)}var q=a(17),D=a.n(q);D.a.defaults.baseURL="https://pixabay.com/api/";var J=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var r,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="?q=".concat(t,"&page=").concat(a,"&key=").concat("23491087-4191226b82b28486631b9987a","&image_type=photo&orientation=horizontal&per_page=").concat(12),e.next=3,D.a.get(r);case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function K(){var e=Object(r.useState)(1),t=Object(b.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),o=Object(b.a)(c,2),u=o[0],m=o[1],h=Object(r.useState)([]),f=Object(b.a)(h,2),O=f[0],d=f[1],v=Object(r.useState)(!1),x=Object(b.a)(v,2),y=x[0],I=x[1],k=Object(r.useState)(!1),F=Object(b.a)(k,2),N=F[0],G=F[1],L=Object(r.useState)(null),C=Object(b.a)(L,2),E=(C[0],C[1]),M=Object(r.useState)({}),H=Object(b.a)(M,2),R=H[0],U=H[1],q=Object(r.useState)(1),D=Object(b.a)(q,2),K=D[0],Y=D[1],P=function(){G(!N)},Q=function(e){P(),U({src:e.largeImageURL,alt:e.tags})},T=function(){var e=Object(l.a)(i.a.mark((function e(){var t,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(u,a);case 3:t=e.sent,r=t.hits,n=Math.ceil(t.total/r.length),isNaN(n)?Y(0):Y(n),d(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),E(e.t0);case 13:return e.prev=13,I(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(u,a);case 3:t=e.sent,r=t.hits,d((function(e){return[].concat(Object(s.a)(e),Object(s.a)(r.map((function(e){return e}))))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),E(e.t0);case 11:return e.prev=11,I(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){I(!0),T()}),[u]),Object(r.useEffect)((function(){V()}),[a]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(p,{onSubmit:function(e){m(e)}}),O.length>0&&Object(_.jsxs)(g,{showImage:Q,children:[O.map((function(e){return Object(_.jsx)(S,{img:e,showImage:Q},j.a.generate())})),N&&Object(_.jsx)(z,{onClose:P,image:R})]}),y&&Object(_.jsx)(B,{}),K>a&&O.length>0&&Object(_.jsx)(w,{onClick:function(){n(a+1),I(!0)}})]})}o.a.render(Object(_.jsx)(n.a.StrictMode,{children:Object(_.jsx)(K,{})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.16ae47cf.chunk.js.map